# DETERMINATION-OF-THE-AREA-INDEX-OF-LETTUCE-LEAVES-WITH-A-MONOCULAR-CAMERA


## Abstract
   	 This study aims to develop a pixel value analysis method using a monocular camera to determine different growth stages of lettuce plants. After the lettuce plants are detected in the images obtained using the YOLOv4 (You Only Look Once Version 4) object detection algorithm, we calculate the leaf area index for each detected lettuce plant using the HSV (Hue, Saturation, Value) color space.
   	 The leaf area index serves as a fundamental metric in our analysis, aiding us in accurately measuring the size of the lettuce plants. For the size estimation approach, we used a dataset containing HSV-calculated max area pixel index values of lettuce plants grown from 1 to 7 weeks. By clustering pixel values using the Gaussian Mixture Models (GMM) algorithm, we identified the cluster representing 1-week-old lettuce plants with the lowest pixel values, while the cluster representing 7-week-old lettuce plants had the highest pixel values. This process was repeated for each week, resulting in distinct clusters corresponding to specific weeks of lettuce growth.
    By associating the detected lettuce plants with their respective clusters, we could infer the growth period and readiness for harvesting for each plant. This method offers valuable insights into monitoring lettuce growth and optimizing harvesting schedules at different stages for lettuce farmers and agricultural researchers through non-intrusive imaging techniques. This study showcases the potential of computer vision and machine learning algorithms in transforming traditional agricultural practices into more efficient and data-driven processes.
    The conducted experiments demonstrate the successful integration of a monocular camera into a smart agriculture system for lettuce harvest detection. Through the combination of object detection using the YOLOv4 algorithm, area estimation using the HSV color space, and leaf area index, we achieved accurate and cost-effective size calculations. The integration of Gaussian Mixture Model clustering with the dataset further enhanced the precision of our lettuce growth and harvest predictions.
Keywords: artificial intelligence,  image processing, hydroponics agriculture, automation

## Introduction

    Image processing has emerged as a significant field within the domain of computer vision, revolutionizing various industries and applications by extracting meaningful information from visual data. In recent years, the emergence of advanced imaging technologies and machine learning algorithms has propelled image processing to the forefront of agricultural innovation. Both researchers and farmers can leverage the power of image processing to gain unparalleled insights into plant growth dynamics, disease detection, and yield estimation. These advancements pave the way for precision agriculture, a paradigm shift aimed at optimizing resource allocation and minimizing environmental impact through data-driven decision-making [1].
 A crucial aspect of image processing in agriculture revolves around the estimation of plant characteristics, such as size, shape, and developmental stage. Accurate measurement of these attributes plays a pivotal role in comprehending crop health, predicting optimal harvest times, and implementing effective cultivation strategies. However, obtaining precise measurements manually can be time-consuming, labor-intensive, and susceptible to errors.
 This paper focuses on the application of image processing techniques, coupled with advanced machine learning algorithms, to address the challenges associated with lettuce size estimation and growth stage prediction. The objective study is to explore how the integration of the YOLOv4 (You Only Look Once Version 4) object detection model and the HSV (Hue, Saturation, Value) color space can provide a comprehensive framework for non-intrusive, automated lettuce growth analysis. Through this approach, we aspire to contribute to the development of efficient and accurate methods for lettuce monitoring, fostering sustainable agricultural practices, and enabling informed decision-making.
 The subsequent sections of this paper delve into the methodology employed to achieve lettuce size estimation using image processing techniques. We provide detailed insights into the dataset used, the YOLOv4 model, and the      HSV-based max area index calculation method. Furthermore, we discuss the Gaussian Mixture Model (GMM) clustering technique employed to enhance the accuracy of lettuce growth stage prediction. The results and insights garnered through this study offer significant contributions to the field of precision agriculture, laying the groundwork for future advancements in crop management and harvesting practices.


## Conclusion

   This study examines and evaluates the use of advanced image processing techniques for lettuce size estimation and growth stage prediction. The integration of the YOLOv4 object detection model with the HSV color space demonstrates the potential to provide an effective method for monitoring and predicting automatic lettuce growth. The combination of image capture, color space-based area calculation, and Gaussian Mixture Model (GMM) clustering enables us to better understand the growth process of lettuce in a more precise and efficient manner, while also contributing to the optimization of agricultural practices.
   The results of the study provide significant insights into how automatic image processing techniques can be applied in the agricultural sector. The developed methods showcase the effectiveness and speed at which lettuce plant size and growth stage can be predicted. This empowers farmers and researchers with a robust tool to increase efficiency and use resources more effectively by adopting precision agriculture methods.
   In the future, building upon the findings of this study, further development and optimization of automated lettuce growth monitoring systems will be possible. The integration of advanced artificial intelligence algorithms can provide more accurate and rapid size predictions, and data analysis and visualization techniques can aid in making more informed agricultural decisions.
   In conclusion, this study demonstrates the application of image processing and machine learning techniques in the agricultural sector. The methods for automatic lettuce size and growth prediction could contribute to the optimization of modern agricultural practices and the promotion of sustainable farming.



## Acknowledgment

    The research was conducted during the summer internship in 2023 at Utena College, Lithuania, scientific supervisor Dr. Laimonas Kairiukstis. The internship was financed by Erasmus funds, learning agreement, Student mobility for Traineeships We would like to thank the dean of Utena College The Faculty of Business and Technologies Dr. Vaida Bartkutė-Norkūnienė made it possible to do an internship during the summer without interrupting the study process. We sincerely thank the administration of Kataray University, which approved the research field of smart agriculture and combined the students of the two fields, AI and automatization, in a joint research.


